# docker-lnd

[![Build Status](https://travis-ci.com/lncm/docker-lnd.svg)](https://travis-ci.com/lncm/docker-lnd) ![](https://img.shields.io/microbadger/image-size/lncm/lnd/0.6.0.svg?style=flat) ![](https://img.shields.io/docker/pulls/lncm/lnd.svg?style=flat)

This Dockerfile is based on the [Dockerfile] officially provided within the `lnd` repo. 

The changes from upstream include:

* image versions correspond to lnd versions strictly,
* Official `./release.sh` script used for maximum compatibility with provided binaries,
* `apk add` removed from the `final` stage of the build to make cross-compilation possible,
* maintainer label added.

[Dockerfile]: https://github.com/lightningnetwork/lnd/blob/master/Dockerfile


## Tags

* `latest`, `0.6`, `0.6.0` - currently _latest_ version of lnd for `arm32v6`, `arm32v7` and `amd64` ([log][log-agg]);
* `0.6.0-linux-armv6` - LND version 0.6.0 for `arm32v6` architecture, [built on Travis][log-arm6];
* `0.6.0-linux-armv7` - LND version 0.6.0 for `arm32v7` architecture, [built on Travis][log-arm7];
* `0.6.0-linux-amd64` - LND version 0.6.0 for `amd64` architecture, [built on Travis][log-amd64].

[log-agg]: https://travis-ci.com/lncm/docker-lnd/builds/109879482
[log-arm6]: https://travis-ci.com/lncm/docker-lnd/jobs/196147555
[log-arm7]: https://travis-ci.com/lncm/docker-lnd/jobs/196147556
[log-amd64]: https://travis-ci.com/lncm/docker-lnd/jobs/196147554



## Usage


### Pull

First pull the image from [Docker Hub]:

```bash
docker pull lncm/lnd:0.6
```

> **NOTE:** Running above will automatically choose native architecture of your CPU.

[Docker Hub]: https://hub.docker.com/r/lncm/lnd


#### Start

Then to start lnd, execute:

```bash
docker run -it --rm \
    -v ~/.lnd:/root/.lnd \
    -p 9735:9735 \
    -p 10009:10009 \
    --name lnd \
    --detach \
    lncm/lnd:0.6
```

That will run lnd such that:

* all data generated by the container is stored in `~/.lnd` **on your host machine**,
* port `9735` will be reachable for the peer-to-peer communication,
* port `10009` will be reachable for the RPC communication,
* created container will get named `lnd`,
* that command will run the container in the background and print the ID of the container being run.


#### Interact

To issue any commands to a running container, do:

```bash
docker exec -it lnd BINARY COMMAND
```

Where:
* `BINARY` is either `lnd` or `lncli`, and
* `COMMAND` is something you'd normally pass to the binary   

Examples:

```bash
docker exec -it lnd lnd --help
docker exec -it lnd lnd --version
docker exec -it lnd lncli --help
docker exec -it lnd lncli getinfo
docker exec -it lnd lncli getnetworkinfo
```
